# **201903-5** 消息传递接口 0/100

```c++
#include<iostream>
#include<vector>
#include<queue>
using namespace std;
const int maxN=1e4+5;
int t,n;
queue<string> qe[maxN];
int main(){
    cin>>t>>n;
    char c;string s;
    while(t--){
        int num=0;
        for(int i=0;i<n;i++){
            c='a';
            while(c!='\n'){
                cin>>s;
                qe[i].push(s);
                num++;
                scanf("%c",&c);
            }
        }
        int flag=1,ifDead=0;
        while(flag&&!ifDead){
            flag=0;
            int i=0;
            while(!qe[i].empty()&&)
            for(int i=0;i<n;i++){
               
                if(qe[i].empty())continue;
                int x=qe[i].front()[1]-'0';
                if(qe[x].empty()){
                    ifDead=1;break;
                }
                if(qe[x].front()[1]-'0'==i){
                    if(qe[x].front()[0]==qe[i].front()[0]){
                        ifDead=1;
                        break;
                    }else{
                        qe[x].pop();
                        qe[i].pop();num-=2;
                        flag=1;
                    }
                }
            }
        }
        if(num==0){
            cout<<"0"<<endl;
        }else{
            cout<<"1"<<endl;
        }
    }
    return 0;
}
/*
 2 3
 R1 S1
 R2 S0 R0 S2
 S1 R1
 R1
 R2 S0 R0
 S1 R1
*/

```

```
#include<iostream>
#include<vector>
#include<queue>
using namespace std;
const int maxN=1e4+5;
int t,n;

int main(){
    cin>>t>>n;
    char c;char s[5];
    scanf("%c",&c);
    while(t--){
        queue<char *> qe[maxN];
        int num=0;
        for(int i=0;i<n;i++){
            while(s[2]!='\n'){
                fgets(s,5,stdin);
                //cin>>s;
                qe[i].push(s);
                num++;
            }
        }
        int flag=1,ifDead=0;
        while(flag&&!ifDead&&num>0){
            flag=0;
            for(int i=0;i<n;i++){
                if(qe[i].empty())continue;
                int x=qe[i].front()[1]-'0';
                if(qe[x].empty()){
                    ifDead=1;break;
                }
                if(qe[x].front()[1]-'0'==i){
                    //cout<<qe[x].front()[0]<<" "<<qe[i].front()[0]<<endl;
                    if(qe[x].front()[0]==qe[i].front()[0]){
                        ifDead=2;
                        break;
                    }else{
                        qe[x].pop();
                        qe[i].pop();num-=2;
                        flag=1;
                    }
                }
            }
        }
        //cout<<num<<" "<<ifDead<<endl;
        if(num==0){
            cout<<"0"<<endl;
        }else{
            cout<<"1"<<endl;
        }
    }
    return 0;
}
/*
 2 3
 R1 S1
 R2 S0 R0 S2
 S1 R1
 R1
 R2 S0 R0
 S1 R1
 
 0
 1
 
 3 2
 R1 S1
 S0 R0
 R1 S1
 R0 S0
 R1 R1 R1 R1 S1 S1 S1 S1
 S0 S0 S0 S0 R0 R0 R0 R0
 */


```

