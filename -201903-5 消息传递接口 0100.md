# **201903-5** 消息传递接口 60/100 运行错误

```c++
//#include<bits/stdc++.h>
#include<iostream>
#include<vector>
#include<queue>
#include<stdio.h>
using namespace std;
const int maxN=1e4+5;
const int maxK=100;
vector<queue<string>> vqc(maxN);
int main(){
    int t,n;
    cin>>t>>n;
    getchar();
    while(t--){
        char str[maxN][maxK];
        for(int i=0;i<n;i++){
            fgets(str[i],maxK,stdin);
            //cout<<str[i]<<endl;
        }
        vector<queue<string>> (n).swap(vqc);
        int num=0;
        char c[5]={'0','0','\0'};
        for(int i=0;i<n;i++){
            for(int j=0;j<(int)strlen(str[i]);){
                if(str[i][j]=='\n')break;
                while(j<(int)strlen(str[i])&&
                      str[i][j]==' ')j++;
                c[0]=str[i][j++];
                c[1]=str[i][j++];
                //cout<<c[0]<<c[1]<<endl;
                vqc[i].push(c);
                num++;
            }
        }
        int flag=1;
        while(num&&flag){
            flag=0;
            for(int i=0;i<vqc.size();i++){
                if(vqc[i].empty()){
                    //vqc.erase(vqc.begin()+i--);
                    continue;
                }
                int x=vqc[i].front()[1]-'0';
                if(vqc[x].empty()){
                    flag=0;break;
                }
                //cout<<vqc[i].front()<<vqc[x].front()<<endl;
                if(vqc[x].front()[1]-'0'!=i)continue;
                if(vqc[i].front()[0]!=vqc[x].front()[0]){
                    flag=1;
                    
                    vqc[i].pop();
                    vqc[x].pop();
                    num-=2;
                }else{
                    flag=0;break;
                }
            }
        }
        printf("%d\n",num==0?0:1);
    }
    return 0;
}
/*
2 3
R1 S1
R2 S0 R0 S2
S1 R1
R1
R2 S0 R0
S1 R1
*/

/*
 
 3 2
 R1 S1
 S0 R0
 R1 S1
 R0 S0
 R1 R1 R1 R1 S1 S1 S1 S1
 S0 S0 S0 S0 R0 R0 R0 R0
 0 
 1
 0
 */
```



